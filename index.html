<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>siteB</title>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.8/dist/web/static/pretendard.css" />
    <style>
        :root {
            --brand-color: #1d4ed8;
            --brand-dark: #1e40af;
            --brand-light: #eff6ff;
            --text-dark: #111827;
            --text-gray: #6b7280;
            --border: #e5e7eb;
            --bg-gray: #f9fafb;
            --danger: #ef4444;
            --active-shadow: 0 10px 15px -3px rgba(29, 78, 216, 0.1);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { 
            font-family: 'Pretendard', sans-serif; 
            color: var(--text-dark); 
            background: #fff;
            line-height: 1.5;
            -webkit-font-smoothing: antialiased;
            overflow-x: hidden;
        }

        .hidden { display: none !important; }
        .container { max-width: 1100px; margin: 0 auto; padding: 0 20px; }

        /* --- Header --- */
        header {
            border-bottom: 1px solid var(--border);
            padding: 15px 0;
            background: #fff;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        .header-inner {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .logo { 
            font-size: 22px; 
            font-weight: 800; 
            color: var(--brand-color); 
            cursor: pointer;
            user-select: none;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .nav-links { display: flex; gap: 30px; font-size: 14px; font-weight: 600; color: var(--text-gray); }
        .nav-links div { cursor: pointer; user-select: none; transition: color 0.2s; }
        .nav-links div.active { color: var(--brand-color); }

        /* --- Main Content --- */
        .main-content { padding: 40px 0; }
        .product-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 50px;
            align-items: start;
        }

        .product-image-area img {
            width: 100%;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.05);
        }

        /* --- Info Area --- */
        .badge-group { display: flex; gap: 6px; margin-bottom: 12px; }
        .badge { font-size: 11px; font-weight: 800; padding: 3px 8px; border-radius: 4px; }
        .badge-blue { background: var(--brand-color); color: #fff; }
        .badge-gray { background: #f3f4f6; color: #6b7280; }

        .product-title { font-size: 32px; font-weight: 800; margin-bottom: 8px; letter-spacing: -1px; }
        .rating { display: flex; align-items: center; gap: 4px; font-size: 14px; margin-bottom: 24px; }
        .rating .stars { color: #3b82f6; }

        .delivery-notice {
            background: var(--brand-light);
            padding: 16px;
            border-radius: 8px;
            font-size: 14px;
            margin-bottom: 30px;
            border: 1px solid #bfdbfe;
        }
        .delivery-notice b { color: var(--brand-color); }

        /* --- Options Area --- */
        .options-section { margin-top: 40px; }
        .options-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }

        .opt-card {
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 24px 16px;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
            background: #fff;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            min-height: 180px;
            user-select: none;
        }

        .badge-rec {
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--brand-color);
            color: #fff;
            font-size: 10px;
            font-weight: 800;
            padding: 2px 10px;
            border-radius: 20px;
            white-space: nowrap;
        }

        .opt-card.selected {
            border: 2px solid var(--brand-color);
            background: var(--brand-light);
            box-shadow: var(--active-shadow);
        }

        .opt-card .check-mark {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 1px solid var(--border);
            display: flex; align-items: center; justify-content: center;
            background: #fff; color: transparent; font-size: 10px;
        }

        .opt-card.selected .check-mark {
            background: var(--brand-color);
            border-color: var(--brand-color);
            color: #fff;
        }

        .opt-card h4 { font-size: 15px; font-weight: 700; margin-bottom: 6px; }
        .opt-card .price { font-size: 19px; font-weight: 800; }
        .opt-card .sub-text { font-size: 12px; color: var(--text-gray); margin-top: 10px; line-height: 1.4; }

        .btn-buy {
            width: 100%;
            background: var(--brand-color);
            color: #fff;
            padding: 18px;
            border-radius: 8px;
            font-size: 17px;
            font-weight: 700;
            border: none;
            cursor: pointer;
        }

        /* --- My Page --- */
        #page-mypage { padding: 60px 0; }
        .mypage-header { font-size: 24px; font-weight: 800; margin-bottom: 30px; }
        
        .subscription-status {
            border: 1px solid var(--border);
            padding: 30px;
            border-radius: 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #fff;
        }
        .status-info h3 { font-size: 19px; font-weight: 700; margin-bottom: 6px; }
        .status-info p { color: var(--text-gray); font-size: 14px; }

        .btn-cancel {
            background: var(--bg-gray);
            border: 1px solid var(--border);
            padding: 10px 20px;
            border-radius: 8px;
            font-size: 13px;
            color: var(--text-gray);
            cursor: pointer;
        }

        /* --- Dark Pattern Dialogs --- */
        .dialog-overlay {
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.8);
            display: flex; align-items: center; justify-content: center;
            z-index: 1000;
            backdrop-filter: blur(8px);
        }
        .dialog {
            background: #fff;
            padding: 32px;
            border-radius: 20px;
            width: 500px;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0,0,0,0.4);
            position: relative;
        }
        .dialog h3 { font-size: 20px; font-weight: 800; margin-bottom: 16px; color: var(--text-dark); }
        .dialog p.scroll-text { font-size: 12px; color: #888; margin-bottom: 24px; text-align: left; background: #fafafa; padding: 15px; border-radius: 8px; height: 140px; overflow-y: scroll; border: 1px solid var(--border); white-space: pre-wrap; line-height: 1.6; }
        
        .dialog-btns { display: flex; flex-direction: column; gap: 10px; }
        .btn-keep { background: var(--brand-color); color: #fff; padding: 16px; border-radius: 8px; border: none; font-weight: 700; cursor: pointer; font-size: 16px; }
        .btn-next { background: transparent; color: #d1d5db; padding: 10px; border: none; font-size: 11px; cursor: pointer; text-decoration: underline; margin-top: 5px; }

        .evil-checkbox-area { text-align: left; padding: 15px; background: #fdfdfd; border-radius: 12px; margin-bottom: 20px; border: 1px solid var(--border); }
        .evil-checkbox-area label { display: flex; align-items: flex-start; gap: 10px; font-size: 12px; cursor: pointer; margin-bottom: 8px; color: #4b5563; }
        .check-all-wrapper { display: flex; align-items: center; gap: 8px; padding-bottom: 12px; margin-bottom: 12px; border-bottom: 1px solid var(--border); font-weight: 800; font-size: 14px; color: var(--text-dark); }

        /* í­íƒ„ ì•Œë¦¼ íŒì—… (ë¦¬ì–¼í•œ ê´‘ê³  ë””ìì¸) */
        .bomb-notice {
            position: fixed;
            width: 280px;
            background: linear-gradient(135deg, #ffffff 0%, #f3f4f6 100%);
            border: 1px solid #e2e8f0;
            padding: 0;
            border-radius: 16px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.2), 0 5px 15px rgba(0,0,0,0.1);
            z-index: 2000;
            overflow: hidden;
            animation: popIn 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            pointer-events: auto;
        }

        @keyframes popIn {
            0% { transform: scale(0.5); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }

        .ad-header {
            background: #ff4757;
            color: white;
            padding: 10px;
            font-size: 12px;
            font-weight: 900;
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .ad-body {
            padding: 18px;
            text-align: center;
        }

        .ad-body h4 { font-size: 16px; margin-bottom: 8px; color: #2f3542; }
        .ad-body p { font-size: 12px; color: #747d8c; margin-bottom: 15px; line-height: 1.4; }
        .ad-body .coupon-code {
            display: block;
            background: #f1f2f6;
            border: 1px dashed #ff4757;
            padding: 8px;
            font-weight: 800;
            color: #ff4757;
            border-radius: 6px;
            margin-bottom: 15px;
        }

        .ad-footer {
            display: flex;
            border-top: 1px solid #eee;
        }

        .ad-footer button {
            flex: 1;
            padding: 12px;
            border: none;
            background: transparent;
            font-size: 12px;
            cursor: pointer;
            transition: background 0.2s;
        }

        .ad-footer .btn-claim { background: #ff4757; color: white; font-weight: 700; }
        .ad-footer .btn-close { color: #a4b0be; }

        /* ë¦¬ë‹¤ì´ë ‰íŠ¸ ì—°ì¶œ */
        #redirect-screen {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: #000; color: #0f0;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            z-index: 9999; font-family: 'Courier New', monospace;
        }

        #toast {
            position: fixed;
            bottom: 30px; left: 50%; transform: translateX(-50%);
            background: rgba(17, 24, 39, 0.95); color: #fff; padding: 14px 28px; border-radius: 50px;
            opacity: 0; transition: 0.3s; z-index: 3000; font-size: 14px; font-weight: 600;
        }
    </style>
</head>
<body>

    <header>
        <div class="container header-inner">
            <div class="logo" onclick="showPage('main')">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>
                siteB
            </div>
            <div class="nav-links">
                <div id="nav-main" class="active" onclick="showPage('main')">ì „ì²´ ìƒí’ˆ</div>
                <div id="nav-mypage" onclick="showPage('mypage')">ë§ˆì´í˜ì´ì§€</div>
            </div>
            <div style="width: 24px;"></div>
        </div>
    </header>

    <main id="page-main" class="container main-content">
        <div class="product-grid">
            <div class="product-image-area">
                <img src="sample.png">
            </div>
            <div class="product-info-area">
                <div class="badge-group">
                    <span class="badge badge-blue">PREMIUM</span>
                    <span class="badge badge-gray">LIMITED</span>
                </div>
                <h1 class="product-title">ì—‘ìŠ¤í¼íŠ¸ ì—ë„ˆì§€ ì†”ë£¨ì…˜</h1>
                <div class="rating">
                    <span class="stars">â˜…â˜…â˜…â˜…â˜…</span>
                    <span class="count">5.0 | ë§Œì¡±ë„ 100%</span>
                </div>
                <div class="delivery-notice">
                    âš¡ <b>í”„ë¦¬ë¯¸ì—„ ë¡œì¼“ ë°°ì†¡</b> (ì§€ê¸ˆ ì£¼ë¬¸ ì‹œ ì˜¤ëŠ˜ ì¶œë°œ)
                </div>
                <p style="color: var(--text-gray); font-size: 15px; margin-bottom: 40px; line-height: 1.7;">
                    ì—…ê³„ ìµœê³ ì˜ ì„±ë¶„ í•¨ëŸ‰. ì „ë‹´ ì¼€ì–´ ì„œë¹„ìŠ¤ í¬í•¨. <br>
                    <b>siteB í”„ë¦¬ë¯¸ì—„ ìœ ì € ë©¤ë²„ì‹­</b> í˜œíƒì´ ëª¨ë“  ê²°ì œì— ê¸°ë³¸ í¬í•¨ë©ë‹ˆë‹¤.
                </p>
                <div class="options-section">
                    <div class="options-grid">
                        <div class="opt-card" id="opt-1" onclick="selectOption(1)">
                            <div class="check-mark">âœ“</div>
                            <div>
                                <h4>ê°œë³„ êµ¬ë§¤</h4>
                                <div class="price">22,000ì›</div>
                            </div>
                        </div>
                        <div class="opt-card selected" id="opt-2" onclick="selectOption(2)">
                            <div class="badge-rec">ë² ìŠ¤íŠ¸</div>
                            <div class="check-mark">âœ“</div>
                            <div>
                                <h4>ì •ê¸° êµ¬ë…</h4>
                                <div class="price">19,900ì›</div>
                            </div>
                        </div>
                        <div class="opt-card" id="opt-3" onclick="selectOption(3)">
                            <div class="check-mark">âœ“</div>
                            <div>
                                <h4>ë§ˆìŠ¤í„° íŒ¨í‚¤ì§€</h4>
                                <div class="price">17,500ì›</div>
                            </div>
                        </div>
                    </div>
                    <button class="btn-buy" onclick="handlePurchase()">í˜œíƒ ë°›ê³  ê²°ì œí•˜ê¸°</button>
                </div>
            </div>
        </div>
    </main>

    <main id="page-mypage" class="container hidden">
        <h2 class="mypage-header">ë§ˆì´í˜ì´ì§€</h2>
        <div id="sub-empty" class="subscription-status">
            <div class="status-info">
                <h3>ê°€ì…ëœ ë©¤ë²„ì‹­ì´ ì—†ìŠµë‹ˆë‹¤.</h3>
                <p>í”„ë¦¬ë¯¸ì—„ ìƒí’ˆì„ êµ¬ë§¤í•˜ê³  ì°¨ë³„í™”ëœ í˜œíƒì„ ëˆ„ë ¤ë³´ì„¸ìš”.</p>
            </div>
            <button class="btn-cancel" onclick="showPage('main')">ìƒí’ˆ ë³´ëŸ¬ê°€ê¸°</button>
        </div>
        <div id="sub-active" class="subscription-status hidden">
            <div class="status-info">
                <p style="color: var(--brand-color); font-weight: 700; font-size: 12px; margin-bottom: 5px;">ACTIVE</p>
                <h3>siteB í”„ë¦¬ë¯¸ì—„ ìœ ì € ë©¤ë²„ì‹­</h3>
                <p>ë‹¤ìŒ ê°±ì‹ ì¼: 2026ë…„ 01ì›” 22ì¼ (ì •ê¸° ê²°ì œ ì˜ˆì •)</p>
            </div>
            <button class="btn-cancel" onclick="startCancelLoop()">ë©¤ë²„ì‹­ ê´€ë¦¬</button>
        </div>
    </main>

    <div id="cancel-overlay" class="dialog-overlay hidden">
        <div id="step-1" class="dialog">
            <h3>í•´ì§€ ì‹ ì²­ ì „ ìœ ì˜ì‚¬í•­</h3>
            <p class="scroll-text">
ì œ 1ì¡° [í•´ì§€ íš¨ë ¥] í•´ì§€ ì‹ ì²­ ì‹œ ì¦‰ì‹œ ëª¨ë“  ë©¤ë²„ì‹­ í˜œíƒ(í• ì¸, ë°°ì†¡, ì ë¦½)ì€ ì •ì§€ë©ë‹ˆë‹¤.
ì œ 2ì¡° [í¬ì¸íŠ¸ í™˜ìˆ˜] ë©¤ë²„ì‹­ ê°€ì… ê¸°ê°„ ì¤‘ ë°œìƒí•œ ì¶”ê°€ ì ë¦½ê¸ˆ ë° ì¿ í°ì€ í•´ì§€ ì¦‰ì‹œ ì „ì•¡ ì†Œë©¸ë˜ë©° ë³µêµ¬ê°€ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.
ì œ 3ì¡° [ì¬ê°€ì… ì œí•œ] ì„œë¹„ìŠ¤ ë‚¨ìš© ë°©ì§€ë¥¼ ìœ„í•´ í•´ì§€ í›„ 180ì¼ê°„ í”„ë¡œëª¨ì…˜ ê°€ì…ì´ ì›ì²œ ì°¨ë‹¨ë©ë‹ˆë‹¤.
ì œ 4ì¡° [ê°œì¸ì •ë³´ ì²˜ë¦¬] ë¶€ì • ì´ìš© ë°©ì§€ ë° ì •ì‚° ì²˜ë¦¬ë¥¼ ìœ„í•´ ê²°ì œ ë°ì´í„°ëŠ” ë‚´ë¶€ ë°©ì¹¨ì— ë”°ë¼ ìµœì¥ 5ë…„ê°„ ë³´ê´€ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì œ 5ì¡° [ì‚¬í›„ ìˆ˜ìˆ˜ë£Œ] ë©¤ë²„ì‹­ ì „ìš© íŠ¹ê°€ êµ¬ë§¤ ê±´ì— ëŒ€í•´ ì¼ë°˜ê°€ì™€ì˜ ì°¨ì•¡ì´ ìœ„ì•½ê¸ˆìœ¼ë¡œ ì²­êµ¬ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì œ 6ì¡° [ì—°ì† ê²°ì œ] ì´ë¯¸ ì²­êµ¬ ì ˆì°¨ê°€ ì§„í–‰ëœ ì •ê¸° ê²°ì œ ê±´ì— ëŒ€í•´ì„œëŠ” ë‹¹ì›” í™˜ë¶ˆì´ ì œí•œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì œ 7ì¡° [ì¿ í° íšŒìˆ˜] ë¯¸ì‚¬ìš©í•œ ë©¤ë²„ì‹­ ì „ìš© ì›°ì»´ ì¿ í°ì€ í•´ì§€ í™•ì • ì¦‰ì‹œ ë¬´íš¨ ì²˜ë¦¬ë©ë‹ˆë‹¤.
ì œ 8ì¡° [ë°ì´í„° ì‚­ì œ] ë§ì¶¤í˜• ê±´ê°• ì§„ë‹¨ ë°ì´í„° ë° ë¶„ì„ ë¦¬í¬íŠ¸ ì—´ëŒ ê¶Œí•œì´ ì¦‰ì‹œ íšŒìˆ˜ë©ë‹ˆë‹¤.
ì œ 9ì¡° [ê³ ê°ì§€ì›] ë©¤ë²„ì‹­ í•´ì§€ ê³ ê°ì€ VIP ì „ë‹´ ìƒë‹´ ì„¼í„° ì´ìš©ì´ ì œí•œë˜ë©° ì¼ë°˜ ìƒë‹´ ëŒ€ê¸°ì—´ë¡œ ë°°ì¹˜ë©ë‹ˆë‹¤.
ì œ 10ì¡° [ì œíœ´ í˜œíƒ] ì™¸ë¶€ ì œíœ´ì‚¬ë¥¼ í†µí•´ ì œê³µë°›ë˜ OTT, í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ ë“±ë„ ì¦‰ì‹œ ì—°ë™ í•´ì œë©ë‹ˆë‹¤.
            </p>
            <div class="evil-checkbox-area">
                <div class="check-all-wrapper">
                    <input type="checkbox" id="check-all" onchange="toggleAll(this)">
                    <label for="check-all">ì „ì²´ ì•½ê´€ ë° ìœ ì˜ì‚¬í•­ì— ëª¨ë‘ ë™ì˜í•©ë‹ˆë‹¤.</label>
                </div>
                <label><input type="checkbox" class="evil-chk" data-required="true" onchange="updateMasterCheck()"> (í•„ìˆ˜) ìœ„ì•½ê¸ˆ ë°œìƒ ê°€ëŠ¥ì„± ë° í¬ì¸íŠ¸ ì „ì•¡ ì†Œë©¸ì— ë™ì˜</label>
                <label><input type="checkbox" class="evil-chk" data-required="true" onchange="updateMasterCheck()"> (í•„ìˆ˜) í•´ì§€ ì¦‰ì‹œ ëª¨ë“  ìœ ë£Œ ì„œë¹„ìŠ¤ ì´ìš© ê¶Œí•œ ìƒì‹¤ ë™ì˜</label>
                <label><input type="checkbox" class="evil-chk" data-attack="true" onchange="updateMasterCheck()"> (ì„ íƒ) ë§ì¶¤í˜• ê±´ê°• ì •ë³´ ë° í”„ë¦¬ë¯¸ì—„ íŠ¹ê°€ ì•Œë¦¼ ìˆ˜ì‹  ë™ì˜</label>
                <label><input type="checkbox" class="evil-chk" data-attack="true" onchange="updateMasterCheck()"> (ì„ íƒ) ì œ3ì ë§ˆì¼€íŒ… ëŒ€í–‰ì‚¬ ê°œì¸ì •ë³´ ì œê³µ ë° í™œìš© ë™ì˜</label>
                <label><input type="checkbox" class="evil-chk" data-attack="true" onchange="updateMasterCheck()"> (ì„ íƒ) ì¥ê¸° ë¯¸ì ‘ì† ì‹œ ì„œë¹„ìŠ¤ ìœ ì§€ ì•ˆë‚´ ë¬¸ì ìˆ˜ì‹  ë™ì˜</label>
            </div>
            <div class="dialog-btns">
                <button class="btn-keep" onclick="closeCancel()">í˜œíƒ ìœ ì§€í•˜ê³  ê³„ì† ì´ìš©í•˜ê¸°</button>
                <button class="btn-next" onclick="validateStep1()">í•´ì§€ ê³„ì† ì§„í–‰</button>
            </div>
        </div>

        <div id="step-2" class="dialog hidden">
            <h3 style="color:var(--danger)">ì ê¹ë§Œìš”! ì •ë§ ë– ë‚˜ì‹œê² ì–´ìš”?</h3>
            <div style="background:#fff7ed; padding:20px; border-radius:12px; margin-bottom:20px; font-size:15px; border:1px solid #ffedd5; line-height:1.6; text-align: left;">
                ì§€ê¸ˆ ì·¨ì†Œí•˜ì‹œë©´ <b>ë§¤ë‹¬ ê²°ì œê¸ˆì•¡ì˜ 70%</b>ë¥¼ <br>í‰ìƒ í• ì¸ë°›ì„ ìˆ˜ ìˆëŠ” ê¸°íšŒë¥¼ ë‹¤ì‹œëŠ” ì–»ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. <br>
                <span style="font-size:12px; color:#9a3412;">(í˜„ì¬ê¹Œì§€ ì´ 43,275ëª…ì˜ ê³ ê° ë¶„ë“¤ì´ ë©¤ë²„ì‹­ í˜œíƒì„ ë°›ìœ¼ì…¨ìŠµë‹ˆë‹¤)</span>
            </div>
            <div class="dialog-btns">
                <button class="btn-keep" onclick="closeCancel()">70% í‰ìƒ í• ì¸ í˜œíƒ ë°›ê³  ìœ ì§€í•˜ê¸°</button>
                <button class="btn-next" onclick="nextStep(3)">í˜œíƒ í¬ê¸°í•˜ê³  ê³„ì† í•´ì§€</button>
            </div>
        </div>

        <div id="step-3" class="dialog hidden">
            <div style="font-size: 40px; margin-bottom: 15px;">ğŸ”’</div>
            <h3>ì‹œìŠ¤í…œ ë³´ì•ˆ ì¸ì¦ ì¤‘</h3>
            <p style="text-align: center; font-size:14px; color:#666; background:none; height:auto; padding:0;">
                í˜„ì¬ ë‹¤ìˆ˜ì˜ í•´ì§€ ìš”ì²­ìœ¼ë¡œ ì¸í•´ ì¸ì¦ íŠ¸ë˜í”½ì´ ì§‘ì¤‘ë˜ê³  ìˆìŠµë‹ˆë‹¤. <br>
                ì•ˆì „í•œ í•´ì§€ ì²˜ë¦¬ë¥¼ ìœ„í•´ <b>ë³´ì•ˆ ì„¸ì…˜ ìŠ¹ì¸</b> ì ˆì°¨ë¥¼ ì§„í–‰í•©ë‹ˆë‹¤.
            </p>
            <div class="dialog-btns" style="margin-top:25px;">
                <button class="btn-keep" onclick="triggerSequentialRedirect()">ë³´ì•ˆ ì„œë²„ ì—°ê²° ë° í•´ì§€ ì¸ì¦</button>
                <button class="btn-next" onclick="resetCancel()">ë©”ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
            </div>
        </div>
    </div>

    <div id="redirect-screen" class="hidden">
        <h2 id="redirect-status">AUTHORIZING SYSTEM ACCESS...</h2>
        <div id="console-log" style="margin-top:20px; text-align: left; width: 400px; font-size: 13px; opacity: 0.8; height: 180px; overflow: hidden; line-height: 1.5;"></div>
    </div>

    <div id="toast"></div>

    <script>
        let isSubscribed = false;
        let scenarioIndex = 0;

        function selectOption(num) {
            document.querySelectorAll('.opt-card').forEach(card => card.classList.remove('selected'));
            document.getElementById('opt-' + num).classList.add('selected');
        }

        function showPage(pageId) {
            document.getElementById('page-main').classList.add('hidden');
            document.getElementById('page-mypage').classList.add('hidden');
            document.getElementById('page-' + pageId).classList.remove('hidden');

            document.getElementById('nav-main').classList.remove('active');
            document.getElementById('nav-mypage').classList.remove('active');
            if(pageId === 'main') document.getElementById('nav-main').classList.add('active');
            if(pageId === 'mypage') {
                document.getElementById('nav-mypage').classList.add('active');
                updateMypageUI();
            }
        }

        function updateMypageUI() {
            if(isSubscribed) {
                document.getElementById('sub-empty').classList.add('hidden');
                document.getElementById('sub-active').classList.remove('hidden');
            } else {
                document.getElementById('sub-empty').classList.remove('hidden');
                document.getElementById('sub-active').classList.add('hidden');
            }
        }

        function handlePurchase() {
            isSubscribed = true;
            showToast("ê²°ì œê°€ ì •ìƒ ì²˜ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤.");
            setTimeout(() => showPage('mypage'), 800);
        }

        function startCancelLoop() {
            document.getElementById('cancel-overlay').classList.remove('hidden');
            nextStep(1);
        }

        function nextStep(n) {
            document.querySelectorAll('.dialog').forEach(d => d.classList.add('hidden'));
            document.getElementById('step-' + n).classList.remove('hidden');
        }

        function closeCancel() {
            document.getElementById('cancel-overlay').classList.add('hidden');
            showToast("ë©¤ë²„ì‹­ í˜œíƒì´ ì •ìƒ ìœ ì§€ë˜ì—ˆìŠµë‹ˆë‹¤.");
        }

        function resetCancel() {
            showToast("ì„¸ì…˜ ë§Œë£Œë¡œ ì¸í•´ í•´ì§€ ì‹ ì²­ì´ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.");
            nextStep(1);
        }

        function toggleAll(master) {
            const chks = document.querySelectorAll('.evil-chk');
            chks.forEach(chk => { chk.checked = master.checked; });
        }

        function updateMasterCheck() {
            const master = document.getElementById('check-all');
            const chks = document.querySelectorAll('.evil-chk');
            const allChecked = Array.from(chks).every(c => c.checked);
            master.checked = allChecked;
        }

        function validateStep1() {
            const required = document.querySelectorAll('.evil-chk[data-required="true"]');
            let allRequiredChecked = true;
            required.forEach(chk => { if(!chk.checked) allRequiredChecked = false; });
            
            if(!allRequiredChecked) {
                showToast("ëª¨ë“  í•„ìˆ˜ ìœ ì˜ì‚¬í•­ì— ë™ì˜í•˜ì…”ì•¼ í•´ì§€ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.");
                return;
            }
            
            const attackChks = document.querySelectorAll('.evil-chk[data-attack="true"]');
            let anyAttackChecked = false;
            attackChks.forEach(chk => { if(chk.checked) anyAttackChecked = true; });
            
            if(anyAttackChecked) {
                for(let i=0; i<5; i++) {
                    setTimeout(() => createAdBombNotice(), i * 120);
                }
            }
            nextStep(2);
        }

        // ë¦¬ì–¼í•œ ê´‘ê³  íŒì—… ìƒì„±
        function createAdBombNotice() {
            const ads = [
                { title: "ì´ˆíŠ¹ê°€ 99% ì¿ í°", body: "ì§€ê¸ˆ ë°”ë¡œ ë©¤ë²„ì‹­ ìœ ì§€í•˜ê³  ì „ìš© íŠ¹ê°€ë¥¼ í™•ì¸í•˜ì„¸ìš”!", code: "KEEP-HOT-DEAL" },
                { title: "ì˜¤ëŠ˜ë§Œ ë¬´ë£Œ ë°°ì†¡", body: "í•´ì§€ ì·¨ì†Œ ì‹œ ëª¨ë“  ìƒí’ˆì— ëŒ€í•´ ì¦‰ì‹œ í˜œíƒ ì ìš©!", code: "FREE-SHIP-NOW" },
                { title: "ì¹œêµ¬ ì´ˆëŒ€ 5ë§Œì ", body: "í•´ì§€ ëŒ€ì‹  ì¹œêµ¬ë¥¼ ì´ˆëŒ€í•˜ê³  í˜„ê¸ˆì²˜ëŸ¼ ì“°ëŠ” í¬ì¸íŠ¸ ë°›ê¸°!", code: "INVITE-V688" },
                { title: "VIP ì‹œí¬ë¦¿ ë°•ìŠ¤", body: "í•´ì§€ ìœ ë³´ ê³ ê°ë‹˜ê»˜ë§Œ ë“œë¦¬ëŠ” í•œì •íŒ êµ¿ì¦ˆ ë‹¹ì²¨!", code: "VIP-BOX-LUCKY" }
            ];
            const ad = ads[Math.floor(Math.random() * ads.length)];

            const div = document.createElement('div');
            div.className = 'bomb-notice';
            div.style.top = Math.random() * 70 + 10 + '%';
            div.style.left = Math.random() * 70 + 5 + '%';
            
            div.innerHTML = `
                <div class="ad-header">SPECIAL OFFER</div>
                <div class="ad-body">
                    <h4>${ad.title}</h4>
                    <p>${ad.body}</p>
                    <span class="coupon-code">${ad.code}</span>
                </div>
                <div class="ad-footer">
                    <button class="btn-close" onclick="this.closest('.bomb-notice').remove()">ë‹¤ìŒì— ë³´ê¸°</button>
                    <button class="btn-claim" onclick="alert('ì˜¤ë¥˜ë¡œ ì¸í•´ ì¿ í° ì‚¬ìš©ì— ì‹¤íŒ¨í•˜ì…¨ìŠµë‹ˆë‹¤.'); this.closest('.bomb-notice').remove()">ì§€ê¸ˆ ë°›ê¸°</button>
                </div>
            `;
            document.body.appendChild(div);
        }

        function triggerSequentialRedirect() {
            const screen = document.getElementById('redirect-screen');
            screen.classList.remove('hidden');
            const log = document.getElementById('console-log');
            log.innerHTML = "";
            
            const scenarios = [
                {
                    title: "BSOD",
                    logs: ["> INITIATING SESSION...", "> FETCHING USER_DATA...", "> ACCESS_VIOLATION AT 0x004F", "> EMERGENCY DUMP START...", "> ERROR: KERNEL_DATA_INPAGE_ERROR"],
                    content: `
                        <body style="background:#0078d7; color:white; font-family:sans-serif; padding:100px; display:flex; flex-direction:column; justify-content:center; height:100vh; overflow:hidden;">
                            <div style="font-size:120px;">:(</div>
                            <h1 style="font-size:28px; margin-top:30px; font-weight:lighter;">PCì— ë¬¸ì œê°€ ë°œìƒí•˜ì—¬ ë‹¤ì‹œ ì‹œì‘í•´ì•¼ í•©ë‹ˆë‹¤.</h1>
                            <p style="font-size:18px; margin-top:20px; opacity:0.8;">ì˜¤ë¥˜ ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ëŠ” ì¤‘ì…ë‹ˆë‹¤. ì™„ë£Œë˜ë©´ ìë™ìœ¼ë¡œ ì¬ì‹œì‘ë©ë‹ˆë‹¤.</p>
                            <p style="font-size:18px; margin-top:10px;">0% ì™„ë£Œ</p>
                        </body>`
                },
                {
                    title: "SECURITY_BLOCK",
                    logs: ["> SCANNING IP...", "> MALICIOUS BEHAVIOR DETECTED", "> BLOCKING ACCOUNT TEMPORARILY...", "> REDIRECTING TO VERIFICATION..."],
                    content: `
                        <body style="background:#f1f1f1; display:flex; align-items:center; justify-content:center; height:100vh; margin:0; font-family:sans-serif;">
                            <div style="background:#fff; width:480px; border:1px solid #ccc; padding:40px; box-shadow:0 0 20px rgba(0,0,0,0.1);">
                                <h2 style="color:#d93025; font-size:22px;">ë¹„ì •ìƒì ì¸ ì ‘ê·¼ì´ ê°ì§€ë˜ì—ˆìŠµë‹ˆë‹¤.</h2>
                                <p style="color:#555; font-size:14px; line-height:1.6;">ë‹¨ê¸°ê°„ ë‚´ ë°˜ë³µì ì¸ í•´ì§€ ì‹œë„ë¡œ ì¸í•´ ê·€í•˜ì˜ ê³„ì •ì´ ì¼ì‹œ ë³´í˜¸ ì¡°ì¹˜ë˜ì—ˆìŠµë‹ˆë‹¤. ë³¸ì¸ í™•ì¸ì„ ìœ„í•´ ì‹ ë¶„ì¦ ì‚¬ë³¸ì„ ê³ ê°ì„¼í„°ë¡œ ì œì¶œí•˜ì‹­ì‹œì˜¤.</p>
                                <button style="width:100%; padding:15px; background:#1a73e8; color:white; border:none; border-radius:4px; font-weight:bold; cursor:pointer;" onclick="alert('ì„œë²„ ì ê²€ ì¤‘ì…ë‹ˆë‹¤.')">ë³¸ì¸ ì¸ì¦ ì„¼í„°ë¡œ ì´ë™</button>
                            </div>
                        </body>`
                }
            ];

            const selected = scenarios[scenarioIndex % scenarios.length];
            scenarioIndex++;

            let i = 0;
            const interval = setInterval(() => {
                if(i < selected.logs.length) {
                    const line = document.createElement('div');
                    line.innerText = selected.logs[i];
                    log.appendChild(line);
                    log.scrollTop = log.scrollHeight;
                    i++;
                } else {
                    clearInterval(interval);
                    setTimeout(() => {
                        const newWin = window.open("about:blank", "_blank");
                        if(newWin) { newWin.document.write(selected.content); }
                        screen.classList.add('hidden');
                        document.getElementById('cancel-overlay').classList.add('hidden');
                        showToast("ì‹œìŠ¤í…œ ì˜¤ë¥˜ë¡œ ì¸í•´ ì²˜ë¦¬ê°€ ì¤‘ë‹¨ë˜ì—ˆìŠµë‹ˆë‹¤.");
                        showPage('mypage');
                    }, 1500);
                }
            }, 600);
        }

        function showToast(msg) {
            const toast = document.getElementById('toast');
            toast.innerText = msg;
            toast.style.opacity = '1';
            setTimeout(() => toast.style.opacity = '0', 2500);
        }
    </script>
</body>
</html>